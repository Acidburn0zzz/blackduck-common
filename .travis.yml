language: java
sudo: false
install: true

addons:
  sonarcloud:
    token:
      secure: "waxMwLRzQhFMmJ4jnwGFIM278ih5q0qpjC0tbUbGl7qf902rxzoCb00wMaq45Ib4Iqq5N9ltHRulDE/2NkSkG/dwOvxoI6ys+PUPxESpc0lOVL2KD1jqh/tf3yU0QPiC/bcBbutnlowCtHxiqMSbHuyXO1tdpU7mBHVwhadlgG6h11fpZDKxD0cj6mYvNEtxqp79kWyUAwilyDIqHcUVv8Qhv5N8cXe5JY/3lhnf8PZzX3jBdPrJ9eOjGtSrj+OtOOq/WvezaX8bSvboKZFUGTPqsoJTQOKYo7zJeoCyEvptHtyFl8XjXFdId3iW8A422tJpPjVbVAZgoJY1ge5wBjCDD8/8iTakUpMtd+rdDhBAt06k1wMZ1CEP1sJ6eh0AMcLsP3mg0Ms+nD6Z19VF4HT0iMX3U5wkZpZNX1HEGgC/XbBopVMA0K00jZcxIRw0aOYTBZzkWyO4IXG1RgjLj1u4oek7aKlvlIZv8tNV2C0e/++Vga5zDMvMs7FY/7GfuUSVUwPpK7x3t3EqqdtJR1tqc0NUeUpCNe+2zV5J7LbfghTzMnyBoUw441a8yWz5ltX+qOsYb97r4lQsoaukTtFM0szzzU3Dyt5FF6zEXPB/+yF4rDGljrZPsQvFHY5ZmnL9WE4thwxdAW7OCZNI+/wJh/zIRuBipBPARKPveJY="

jdk:
- oraclejdk8

notifications:
  email:
    recipients:
    - bdsoss@blackducksoftware.com

script:
- "./gradlew clean build jacocoTestReport coveralls sonarqube"

after_success:
- bash <(curl -s https://copilot.blackducksoftware.com/ci/travis/scripts/upload)

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
  - "$HOME/.gradle"
  - ".gradle"
